<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{backoffice/layout :: layout (~{::title}, ~{::content})}">
<head>
    <title>Tarif Classe-Trajet - Administration</title>
</head>
<body>
    <th:block th:fragment="content">
        <div class="container-fluid">
            <h1 th:text="${tarif.idTarifClasseTrajet != null} ? 'Modifier un tarif' : 'Ajouter un tarif'"></h1>
            <form th:action="${tarif.idTarifClasseTrajet != null} ? @{/admin/tarif-classe-trajet/update} : @{/admin/tarif-classe-trajet/save}" method="post">
                <input type="hidden" th:if="${tarif.idTarifClasseTrajet != null}" name="idTarifClasseTrajet" th:value="${tarif.idTarifClasseTrajet}" />
                <div class="mb-3">
                    <label for="classe" class="form-label">Classe</label>
                    <select id="classe" name="classe.idClasse" class="form-control" required>
                        <option th:each="c : ${classes}"
                                th:value="${c.idClasse}"
                                th:text="${c.libelle}"
                                th:selected="${tarif.classe != null} ? (tarif.classe.idClasse == c.idClasse) : false">
                        </option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="trajet" class="form-label">Trajet</label>
                    <select id="trajet" name="trajet.idTrajet" class="form-control" required>
                        <option th:each="tr : ${trajets}"
                                th:value="${tr.idTrajet}"
                                th:text="${tr.gareRoutiereDepart.nom + '(' + tr.gareRoutiereDepart.ville.nom + ')' + ' -> ' + tr.gareRoutiereArrivee.nom + '(' + tr.gareRoutiereArrivee.ville.nom + ')'}"
                                th:selected="${tarif.trajet != null} ? (tarif.trajet.idTrajet == tr.idTrajet) : false">
                        </option>
                    </select>
                </div>
                <div class="mb-3">
                    <label for="montant" class="form-label">Montant</label>
                    <input type="number" step="0.01" class="form-control" id="montant" name="montant" th:value="${tarif.montant}" required />
                </div>
                <div class="mb-3">
                    <label for="date" class="form-label">Date</label>
                    <input type="date" class="form-control" id="date" name="date" th:value="${tarif.date}" />
                </div>
                <button type="submit" class="btn btn-success">Enregistrer</button>
                <a th:href="@{/admin/tarif-classe-trajet}" class="btn btn-secondary">Annuler</a>
            </form>
        </div>
    </th:block>
</body>
</html>
